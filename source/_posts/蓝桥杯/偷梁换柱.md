---
title: 蓝桥杯省赛Web大学组赛题 - 偷梁换柱
abbrlink: "3183"
date: 2025-04-05 00:00:00
updated: 2025-04-05 00:00:00
cover: https://s3.qjqq.cn/47/67f348c4652e3.png!color
---

## 目标

在文件 age.js 中，有一个 person 对象，当它的 age 属性值改变时需要对新值做判断，将其永远控制在 0 - 150 之间。具体需求如下：

```js age.js
// 请不要更改这个对象里面的内容
let person = {
  age: 0,
};
// TODO:在这里写入具体的实现逻辑
// 对 person 的 age 属性更新行为进行拦截
// 如果输入的年龄在 0 - 150 之间，则认为是合法
// 否则，如果小于 0，则返回 0；如果大于 150，则返回 150

module.exports = person; // 检测需要，请勿删除
```

- 如果新属性值在 0 -150 之间（包含 0 和 150），则直接更新。
- 如果新属性值小于 0，则属性值更新为 0。
- 如果新属性值大于 150，则属性值更新为 150。

> 提示：可以使用 Object.defineProperty 或者 Proxy 对 person 对象进行处理。

## 规定

题目使用 JavaScript 完成，不得使用第三方库。
只能在 age.js 中指定区域答题，不能修改 index.html 中的任何代码。
请不要修改环境自动生成的 age.js 以及 index.html 文件的文件路径以及文件名。
检测时使用的输入数据与题目中给出的示例数据可能是不同的。考生的程序必须是通用的，不能只对需求中给定的数据有效。
满足题目需求后，点击「提交检测」系统会自动判分。

## 答案

```js
// 请不要更改这个对象里面的内容
let person = {
  age: 0,
};
// TODO:在这里写入具体的实现逻辑
// 对 person 的 age 属性更新行为进行拦截
// 如果输入的年龄在 0 - 150 之间，则认为是合法
// 否则，如果小于 0，则返回 0；如果大于 150，则返回 150

person = new Proxy(person, {
  get(target, key) {
    return Reflect.get(target, key);
  },
  set(target, key, value) {
    Reflect.set(target, key, value > 150 ? 150 : value < 0 ? 0 : value);
  },
});

module.exports = person; // 检测需要，请勿删除
```

## 提醒

**不建议使用 Object.defineProperty()，因为这个方法会改变原对象，而 Proxy 不会。**
